<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>×©×—×§× ×™ Pasta League</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <h1>ğŸ‘¥ ×¨×©×™××ª ×©×—×§× ×™× - Pasta League</h1>
    <a href="index.html" class="back-btn">ğŸ  ×—×–×¨×” ×œ×¢××•×“ ×”×¨××©×™</a>
  </header>

  <div class="players-container" id="playersContainer">
    <p>×˜×•×¢×Ÿ × ×ª×•× ×™×...</p>
  </div>

  <script>
    const sheetURL = "https://docs.google.com/spreadsheets/d/1--or-XBf1Ys71it7cRCSnZOodHIP8wr9bW_HUoTJtCs/gviz/tq?tqx=out:json&sheet=Player";
    
    fetch(sheetURL)
      .then(res => res.text())
      .then(text => {
        const json = JSON.parse(text.substring(47, text.length - 2));
        const rows = json.table.rows;
        const container = document.getElementById("playersContainer");
        container.innerHTML = "";

        rows.forEach(row => {
          const name = row.c[0]?.v || "Unknown";
          const games = row.c[1]?.v || 0;
          const wins = row.c[2]?.v || 0;
          const draws = row.c[3]?.v || 0;
          const losses = row.c[4]?.v || 0;
          const goals = row.c[5]?.v || 0;
          const desc = row.c[6]?.v || "";
          const img = row.c[7]?.v || "";

          const card = `
            <div class="player-card">
              <img src="${img}" alt="${name}">
              <h2>${name}</h2>
              <p>${desc}</p>
              <p>××©×—×§×™×: ${games} | × ×™×¦×—×•× ×•×ª: ${wins} | ×ª×™×§×•: ${draws} | ×”×¤×¡×“×™×: ${losses}</p>
              <p>âš½ ×©×¢×¨×™×: ${goals}</p>
            </div>
          `;
          container.innerHTML += card;
        });
      })
      .catch(err => {
        document.getElementById("playersContainer").innerHTML = `<p>âš ï¸ ×©×’×™××” ×‘×˜×¢×™× ×ª ×”× ×ª×•× ×™×</p>`;
        console.error(err);
      });
  </script>
</body>
</html>
